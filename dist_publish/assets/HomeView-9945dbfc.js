import{_ as w,o as p,c as h,p as b,a as k,b as r,d as C,t as z,g as P,u as X,e as Y,r as A,w as F,m as T,f as N,h as I,i as q,j as G,k as J,n as K,l as Q,F as V,q as D,s as Z,v as M,x as ee,y as L,z as te}from"./index-3feb946e.js";const se=""+new URL("start-c7dd3152.svg",import.meta.url).href;const oe={},ne=e=>(b("data-v-abadc4aa"),e=e(),k(),e),ie={class:"c__task_bar"},ce=ne(()=>r("div",{class:"container"},[r("div",{class:"start"},[r("img",{src:se,alt:""})])],-1)),ae=[ce];function le(e,n){return p(),h("div",ie,ae)}const re=w(oe,[["render",le],["__scopeId","data-v-abadc4aa"]]),de={class:"c__task_icon"},ue={class:"icon"},_e=["src"],pe={class:"title"},ve=C({__name:"Index",props:{icon:{default:""},title:{default:""}},setup(e){return(n,l)=>(p(),h("div",de,[r("div",ue,[r("img",{src:e.icon,alt:""},null,8,_e)]),r("div",pe,z(e.title),1)]))}});const fe=w(ve,[["__scopeId","data-v-a8ca4fc2"]]),me=""+new URL("min-e18961f2.svg",import.meta.url).href,he=""+new URL("max-a53cd3da.svg",import.meta.url).href,ge=""+new URL("reset-f99fd4cc.svg",import.meta.url).href,ye=""+new URL("close-af92a33f.svg",import.meta.url).href;function xe(e){return P()?(Y(e),!0):!1}function O(e){return typeof e=="function"?e():X(e)}const we=typeof window<"u"&&typeof document<"u",$e=Object.prototype.toString,Ae=e=>$e.call(e)==="[object Object]",Me=()=>{};function Ie(e){var n;const l=O(e);return(n=l==null?void 0:l.$el)!=null?n:l}const H=we?window:void 0;function x(...e){let n,l,s,t;if(typeof e[0]=="string"||Array.isArray(e[0])?([l,s,t]=e,n=H):[n,l,s,t]=e,!n)return Me;Array.isArray(l)||(l=[l]),Array.isArray(s)||(s=[s]);const c=[],o=()=>{c.forEach(a=>a()),c.length=0},_=(a,d,f,m)=>(a.addEventListener(d,f,m),()=>a.removeEventListener(d,f,m)),u=F(()=>[Ie(n),O(t)],([a,d])=>{if(o(),!a)return;const f=Ae(d)?{...d}:d;c.push(...l.flatMap(m=>s.map(y=>_(a,m,y,f))))},{immediate:!0,flush:"post"}),v=()=>{u(),o()};return xe(v),v}const be={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function ke(e={}){const{type:n="page",touch:l=!0,resetOnTouchEnds:s=!1,initialValue:t={x:0,y:0},window:c=H,target:o=c,scroll:_=!0,eventFilter:u}=e;let v=null;const a=A(t.x),d=A(t.y),f=A(null),m=typeof n=="function"?n:be[n],y=i=>{const g=m(i);v=i,g&&([a.value,d.value]=g,f.value="mouse")},E=i=>{if(i.touches.length>0){const g=m(i.touches[0]);g&&([a.value,d.value]=g,f.value="touch")}},S=()=>{if(!v||!c)return;const i=m(v);v instanceof MouseEvent&&i&&(a.value=i[0]+c.scrollX,d.value=i[1]+c.scrollY)},R=()=>{a.value=t.x,d.value=t.y},j=u?i=>u(()=>y(i),{}):i=>y(i),U=u?i=>u(()=>E(i),{}):i=>E(i),B=u?()=>u(()=>S(),{}):()=>S();if(o){const i={passive:!0};x(o,["mousemove","dragover"],j,i),l&&n!=="movement"&&(x(o,["touchstart","touchmove"],U,i),s&&x(o,"touchend",R,i)),_&&n==="page"&&x(c,"scroll",B,{passive:!0})}return{x:a,y:d,sourceType:f}}const $=e=>(b("data-v-7de16651"),e=e(),k(),e),Ce={class:"controls"},Ee=$(()=>r("div",{class:"controls--btn"},[r("img",{src:me,alt:""})],-1)),Se=$(()=>r("img",{src:he,alt:""},null,-1)),Te=[Se],Ve=$(()=>r("img",{src:ge,alt:""},null,-1)),De=[Ve],Le=$(()=>r("img",{src:ye,alt:""},null,-1)),ze=[Le],Oe={class:"content"},He=C({__name:"Index",props:T({isActive:{default:!1},title:{default:""}},{modelValue:{default:!1}}),emits:T(["active","close"],["update:modelValue"]),setup(e,{emit:n}){const l=e,s=ke();N(e,"modelValue");const t=I({dragging:!1,isMaximize:!1,x:Math.random()*50+50,y:Math.random()*50+50,ox:0,oy:0,sx:0,sy:0,width:800,height:600,style:q(()=>t.isMaximize?{left:0,right:0,top:0,bottom:"50px",borderRadius:"0",zIndex:l.isActive?60:50}:{left:`${t.x}px`,top:`${t.y}px`,width:`${t.width}px`,height:`${t.height}px`,zIndex:l.isActive?60:50})}),c=()=>{t.sx=s.x.value,t.sy=s.y.value,t.ox=t.x,t.oy=t.y,t.dragging=!0},o=()=>{t.dragging=!1},_=()=>{n("active")},u=()=>{n("close")};return G(()=>{t.dragging&&(t.x=t.ox+s.x.value-t.sx,t.y=t.oy+s.y.value-t.sy)}),(v,a)=>(p(),h("div",{class:K(["c__window",{is_active:e.isActive}]),style:Q(t.style),onMousedown:_},[r("div",{class:"title",onMousedown:c,onMouseup:o},z(e.title),33),r("div",Ce,[Ee,t.isMaximize?(p(),h("div",{key:1,class:"controls--btn",onClick:a[1]||(a[1]=d=>t.isMaximize=!1)},De)):(p(),h("div",{key:0,class:"controls--btn",onClick:a[0]||(a[0]=d=>t.isMaximize=!0)},Te)),r("div",{class:"controls--btn is_close",onClick:u},ze)]),r("div",Oe,[J(v.$slots,"default",{},void 0,!0)])],38))}});const We=w(He,[["__scopeId","data-v-7de16651"]]),Re=[{title:"测试程序",vuePath:"MyTest/Index.vue",icon:"garden.png"},{title:"星空闪耀",vuePath:"Star/Index.vue",icon:"star.png"}],W=e=>(b("data-v-900ae801"),e=e(),k(),e),je={id:"desktop",class:"c__desktop"},Ue=W(()=>r("div",{class:"background"},null,-1)),Be=W(()=>r("div",{class:"title"},[r("span",null,"Windows UI")],-1)),Pe={class:"desk"},Xe=C({__name:"HomeView",setup(e){const n=Object.assign({"/src/apps/MyTest/Index.vue":()=>L(()=>import("./Index-a82f6dfd.js"),["./Index-a82f6dfd.js","./index-3feb946e.js","./index-25ce4ff5.css"],import.meta.url),"/src/apps/Star/Index.vue":()=>L(()=>import("./Index-feffa121.js"),["./Index-feffa121.js","./index-3feb946e.js","./index-25ce4ff5.css","./Index-7c1a3f25.css"],import.meta.url)}),l=I({list:Re,async open(t){const _=await(u=>{const a=Object.keys(n).find(d=>d.includes(u??"--"));return n[a??""]})(t.vuePath)();s.list.push({id:Math.floor(Math.random()*1e10),title:t.title,render:_.default,isActive:!0})}}),s=I({list:[],handleActive(t){s.list.forEach(o=>{o.isActive=!1});const c=s.list.find(o=>o.id===t.id);c&&(c.isActive=!0)},handleClose(t){s.list=s.list.filter(c=>c.id!==t.id),s.setDefaultActive()},setDefaultActive(){!s.list.find(c=>c.isActive)&&s.list.length&&(s.list[s.list.length-1].isActive=!0)}});return(t,c)=>(p(),h("div",je,[Ue,Be,r("div",Pe,[(p(!0),h(V,null,D(l.list,(o,_)=>(p(),M(fe,{key:_,icon:`/icon/${o.icon}`,title:o.title,onClick:u=>l.open(o)},null,8,["icon","title","onClick"]))),128))]),(p(!0),h(V,null,D(s.list,o=>(p(),M(We,{key:o.id,title:o.title,"is-active":o.isActive,onActive:_=>s.handleActive(o),onClose:_=>s.handleClose(o)},{default:ee(()=>[(p(),M(te(o.render),{key:o.id}))]),_:2},1032,["title","is-active","onActive","onClose"]))),128)),Z(re)]))}});const Fe=w(Xe,[["__scopeId","data-v-900ae801"]]);export{Fe as default};
